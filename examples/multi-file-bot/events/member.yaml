# Member Events

events:
  - event: member_join
    actions:
      - action: log
        level: info
        message: "${user.username} joined ${guild.name}"

      - action: flow_if
        condition: "${guild.systemChannelId}"
        then:
          - action: send_message
            channel: "${guild.systemChannelId}"
            embed:
              title: "Welcome!"
              description: "Welcome to **${guild.name}**, ${member.mention}!"
              thumbnail:
                url: "${member.user.avatarURL ?? member.user.defaultAvatarURL}"
              color: "#57f287"
              footer:
                text: "Member #${guild.memberCount}"
              timestamp: true

  - event: member_leave
    actions:
      - action: log
        level: info
        message: "${user.username} left ${guild.name}"

      - action: flow_if
        condition: "${guild.systemChannelId}"
        then:
          - action: send_message
            channel: "${guild.systemChannelId}"
            content: "${user.username} has left the server."
